(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{N4MG:function(e,t,n){"use strict";n.r(t),n.d(t,"MyActivitiesModule",function(){return J});var s=n("SVse"),o=n("iInd"),i=n("nYnx"),a=n("wJIb"),c=n("rcNl"),r=n("KsPv"),l=n("KYvs"),d=n("Qn1r"),p=n("tHlq"),u=n("BOEf"),g=n("FoA+"),m=n("9Bsu"),h=n("9uVP"),f=n("GYjD"),y=n("Nar1"),C=n("mdOT"),v=n("1G5W"),S=n("nYR2"),x=n("XogJ"),b=n("9Fyz"),L=n("8Y7J");let I=(()=>{class e extends b.a{constructor(e){super(e.getUserCatalog("active"),T)}}return e.\u0275fac=function(t){return new(t||e)(L["\u0275\u0275inject"](x.a))},e.\u0275prov=L["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function T(){return!0}var j=n("djEf"),w=n("xy9J"),O=n("HMxd"),M=n("Zi5I");function _(e,t){1&e&&(L["\u0275\u0275elementStart"](0,"div",8),L["\u0275\u0275text"](1," \u041e\u0442\u0431\u043e\u0440\u044b "),L["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&L["\u0275\u0275element"](0,"app-selections-list",9),2&e){const e=L["\u0275\u0275nextContext"]();L["\u0275\u0275property"]("selections",e.mySelections)("editLink",!1)}}function P(e,t){1&e&&(L["\u0275\u0275elementStart"](0,"div",8),L["\u0275\u0275text"](1," \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 "),L["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e){const e=L["\u0275\u0275getCurrentView"]();L["\u0275\u0275elementStart"](0,"app-tags-row",10),L["\u0275\u0275listener"]("tagSelected",function(t){return L["\u0275\u0275restoreView"](e),L["\u0275\u0275nextContext"]().handleTagSelected(t)}),L["\u0275\u0275elementEnd"]()}if(2&e){const e=L["\u0275\u0275nextContext"]();L["\u0275\u0275property"]("tags",e.tags)}}function k(e,t){if(1&e&&L["\u0275\u0275element"](0,"app-courses",11),2&e){const e=L["\u0275\u0275nextContext"]();L["\u0275\u0275property"]("cards",e.displayedCourses)}}function D(e,t){if(1&e&&(L["\u0275\u0275elementStart"](0,"app-note-empty",12),L["\u0275\u0275text"](1," \u0412\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043a\u0443\u0440\u0441\u044b \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 "),L["\u0275\u0275elementStart"](2,"a",13),L["\u0275\u0275text"](3,"\u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435"),L["\u0275\u0275elementEnd"](),L["\u0275\u0275text"](4," \u0438 \u0436\u0434\u0443\u0442 \u0437\u0432\u0435\u0437\u0434\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0430, \u043a\u043e\u0433\u0434\u0430 \u0442\u044b \u0438\u0445 \u043d\u0430\u0447\u043d\u0435\u0448\u044c \u0438\u0437\u0443\u0447\u0430\u0442\u044c "),L["\u0275\u0275elementEnd"]()),2&e){const e=L["\u0275\u0275nextContext"]();L["\u0275\u0275property"]("icon",e.iconStudy)("buttonAction",e.navigateToCatalog.bind(e))}}const B=[{path:"",component:(()=>{class e{constructor(e,t,n,s,o,i){this.selectionsApiService=n,this.rolesService=s,this.router=o,this.changeDetectorRef=i,this.iconStudy=m.f,this.courses=[],this.displayedCourses=[],this.tags=[],this.selectedTag=h.a,this.mySelections=y.g,this.courseLoader=!0,this.selectionLoader=!0,e.loading$.pipe(Object(v.a)(t)).subscribe(e=>this.courseLoader=e),e.activities$.pipe(Object(v.a)(t)).subscribe(e=>{setTimeout(()=>this._updateCatalog(e))})}ngOnInit(){this.rolesService.selectedActivity=p.b.MY_ACTIVITIES,this.selectionsApiService.getSelections("in_progress").pipe(Object(S.a)(()=>this.completeSelectonLoading())).subscribe(e=>this.mySelections=e)}handleTagSelected(e){this.selectedTag=e,this.filterCatalogByTag()}navigateToCatalog(){this.router.navigateByUrl("/"+p.b.ALL_ACTIVITIES)}completeSelectonLoading(){this.selectionLoader=!1,this.changeDetectorRef.detectChanges()}completeCourseLoading(){this.courseLoader=!1,this.changeDetectorRef.detectChanges()}filterCatalogByTag(){this.displayedCourses=this.selectedTag!==h.a?Object(f.a)(this.courses,this.selectedTag):this.courses}_updateCatalog(e){const t=this.selectedTag;this.courses=e||[],this.tags=Object(f.b)(this.courses),this.selectedTag=Object(f.c)(this.tags,t)?t:h.a,this.filterCatalogByTag(),this.changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(L["\u0275\u0275directiveInject"](I),L["\u0275\u0275directiveInject"](C.b),L["\u0275\u0275directiveInject"](g.a),L["\u0275\u0275directiveInject"](u.a),L["\u0275\u0275directiveInject"](o.g),L["\u0275\u0275directiveInject"](L.ChangeDetectorRef))},e.\u0275cmp=L["\u0275\u0275defineComponent"]({type:e,selectors:[["app-my-activities"]],features:[L["\u0275\u0275ProvidersFeature"]([C.b,I])],decls:11,vars:7,consts:[[1,"courses"],["class","title",4,"ngIf"],[3,"selections","editLink",4,"ngIf"],["class","tags",3,"tags","tagSelected",4,"ngIf"],[1,"content"],[3,"cards",4,"ngIf"],["class","note-empty","title","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0438","buttonText","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0443\u0440\u0441","buttonMode","primary",3,"icon","buttonAction",4,"ngIf"],["size","xxl",1,"loader",3,"showLoader"],[1,"title"],[3,"selections","editLink"],[1,"tags",3,"tags","tagSelected"],[3,"cards"],["title","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0438","buttonText","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0443\u0440\u0441","buttonMode","primary",1,"note-empty",3,"icon","buttonAction"],["routerLink","/all-activities"]],template:function(e,t){1&e&&(L["\u0275\u0275elementContainerStart"](0),L["\u0275\u0275elementStart"](1,"section",0),L["\u0275\u0275template"](2,_,2,0,"div",1),L["\u0275\u0275template"](3,E,1,2,"app-selections-list",2),L["\u0275\u0275elementEnd"](),L["\u0275\u0275elementStart"](4,"section",0),L["\u0275\u0275template"](5,P,2,0,"div",1),L["\u0275\u0275template"](6,A,1,1,"app-tags-row",3),L["\u0275\u0275elementStart"](7,"div",4),L["\u0275\u0275template"](8,k,1,1,"app-courses",5),L["\u0275\u0275elementEnd"](),L["\u0275\u0275elementEnd"](),L["\u0275\u0275template"](9,D,5,2,"app-note-empty",6),L["\u0275\u0275element"](10,"tui-loader",7),L["\u0275\u0275elementContainerEnd"]()),2&e&&(L["\u0275\u0275advance"](2),L["\u0275\u0275property"]("ngIf",!t.selectionLoader&&!t.courseLoader&&(null==t.displayedCourses?null:t.displayedCourses.length)&&(null==t.mySelections?null:t.mySelections.length)),L["\u0275\u0275advance"](1),L["\u0275\u0275property"]("ngIf",!t.selectionLoader&&!t.courseLoader&&(null==t.mySelections?null:t.mySelections.length)),L["\u0275\u0275advance"](2),L["\u0275\u0275property"]("ngIf",!t.selectionLoader&&!t.courseLoader&&(null==t.displayedCourses?null:t.displayedCourses.length)&&(null==t.mySelections?null:t.mySelections.length)),L["\u0275\u0275advance"](1),L["\u0275\u0275property"]("ngIf",!t.selectionLoader&&!t.courseLoader&&(null==t.tags?null:t.tags.length)),L["\u0275\u0275advance"](2),L["\u0275\u0275property"]("ngIf",!t.selectionLoader&&!t.courseLoader&&(null==t.displayedCourses?null:t.displayedCourses.length)),L["\u0275\u0275advance"](1),L["\u0275\u0275property"]("ngIf",!(t.selectionLoader||t.courseLoader||null!=t.courses&&t.courses.length||null!=t.mySelections&&t.mySelections.length)),L["\u0275\u0275advance"](1),L["\u0275\u0275property"]("showLoader",t.courseLoader||t.selectionLoader))},directives:[s.o,d.a,j.a,w.a,O.a,M.a,o.j],styles:[".content[_ngcontent-%COMP%]{margin-top:48px}@media screen and (max-width:599px){.courses[_ngcontent-%COMP%] + .courses[_ngcontent-%COMP%]{margin-top:20px}}@media screen and (min-width:600px){.courses[_ngcontent-%COMP%] + .courses[_ngcontent-%COMP%]{margin-top:48px}}.title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;font-family:var(--tui-heading-font);line-height:32px;letter-spacing:-.3px;margin-bottom:24px}.tags[_ngcontent-%COMP%]{margin-bottom:32px}.loader[_ngcontent-%COMP%]{margin-top:96px}.note-empty[_ngcontent-%COMP%]{margin-bottom:48px}"],changeDetection:0}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=L["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=L["\u0275\u0275defineInjector"]({imports:[[s.c,d.b,r.a,i.a,c.a,l.b,a.a,o.k.forChild(B)]]}),e})()}}]);